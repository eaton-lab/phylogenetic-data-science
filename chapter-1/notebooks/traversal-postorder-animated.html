<div class="toyplot" id="td56f59eb992640b09c70ba3bf9b103d0" style="text-align:center"><svg class="toyplot-canvas-Canvas" xmlns:toyplot="http://www.sandia.gov/toyplot" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="350.0px" height="250.0px" viewBox="0 0 350.0 250.0" preserveAspectRatio="xMidYMid meet" style="background-color:white;border-color:#292724;border-style:none;border-width:1.0;fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:Helvetica;font-size:12px;opacity:1.0;stroke:rgb(16.1%,15.3%,14.1%);stroke-opacity:1.0;stroke-width:1.0" id="td377ae4473a54e138eb02c4f266ee3ae"><g class="toyplot-coordinates-Cartesian" id="t6b6e1b06079849178155baef811018e4"><clipPath id="t2d0352db69824c8eb78ba9d1f449a882"><rect x="35.0" y="35.0" width="280.0" height="180.0"></rect></clipPath><g clip-path="url(#t2d0352db69824c8eb78ba9d1f449a882)"><g class="toytree-mark-Toytree" id="t009b417d5ec9439ab3b0a1435c29b339"><g class="toytree-Edges" style="fill:none;stroke:rgba(16.1%,15.3%,14.1%,1.000);stroke-linecap:round;stroke-width:2.0"><path d="M 67.9 162.5 L 50.0 162.5 L 50.0 200.0" id="8,0" style="stroke-width:nan"></path><path d="M 67.9 162.5 L 85.7 162.5 L 85.7 200.0" id="8,1" style="stroke-width:nan"></path><path d="M 139.3 162.5 L 121.4 162.5 L 121.4 200.0" id="9,2" style="stroke-width:nan"></path><path d="M 139.3 162.5 L 157.1 162.5 L 157.1 200.0" id="9,3" style="stroke-width:nan"></path><path d="M 210.7 125.0 L 192.9 125.0 L 192.9 200.0" id="11,4" style="stroke-width:nan"></path><path d="M 210.7 125.0 L 228.6 125.0 L 228.6 200.0" id="11,5" style="stroke-width:nan"></path><path d="M 282.1 87.5 L 264.3 87.5 L 264.3 200.0" id="13,6" style="stroke-width:nan"></path><path d="M 282.1 87.5 L 300.0 87.5 L 300.0 200.0" id="13,7" style="stroke-width:nan"></path><path d="M 103.6 125.0 L 67.9 125.0 L 67.9 162.5" id="10,8" style="stroke-width:nan"></path><path d="M 103.6 125.0 L 139.3 125.0 L 139.3 162.5" id="10,9" style="stroke-width:nan"></path><path d="M 157.1 87.5 L 103.6 87.5 L 103.6 125.0" id="12,10" style="stroke-width:nan"></path><path d="M 157.1 87.5 L 210.7 87.5 L 210.7 125.0" id="12,11" style="stroke-width:nan"></path><path d="M 219.6 50.0 L 157.1 50.0 L 157.1 87.5" id="14,12" style="stroke-width:nan"></path><path d="M 219.6 50.0 L 282.1 50.0 L 282.1 87.5" id="14,13" style="stroke-width:nan"></path></g></g><g class="toyplot-mark-Point" id="tb41951952e554ef6a9b88ddf52715f98"><g class="toyplot-Series"><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(50.0, 200.0)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">0</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(85.71428571428572, 200.0)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">1</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(67.85714285714286, 162.5)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">2</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(121.42857142857142, 200.0)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">3</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(157.1428571428571, 200.0)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">4</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(139.28571428571428, 162.5)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">5</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(103.57142857142856, 125.0)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">6</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(192.85714285714283, 200.0)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">7</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(228.57142857142856, 200.0)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">8</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(210.71428571428572, 125.0)"><circle r="10.0"></circle><g><text x="-4.170000000000001" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">9</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(157.1428571428571, 87.5)"><circle r="10.0"></circle><g><text x="-8.340000000000002" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">10</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(264.2857142857143, 200.0)"><circle r="10.0"></circle><g><text x="-8.340000000000002" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">11</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(300.0, 200.0)"><circle r="10.0"></circle><g><text x="-8.340000000000002" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">12</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(282.1428571428571, 87.5)"><circle r="10.0"></circle><g><text x="-8.340000000000002" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">13</text></g></g><g style="fill:rgb(40%,76.1%,64.7%);fill-opacity:1.0;opacity:1.0;stroke:rgb(40%,76.1%,64.7%);stroke-opacity:1.0" class="toyplot-Datum" transform="translate(219.64285714285717, 50.0)"><circle r="10.0"></circle><g><text x="-8.340000000000002" y="3.8324999999999996" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:15.0px;font-weight:normal;stroke:none;vertical-align:baseline;white-space:pre">14</text></g></g></g></g></g></g><g class="toyplot-mark-Text" id="t727b97abdb6c4abfa4b78434b345971d"><g class="toyplot-Series"><g class="toyplot-Datum" transform="translate(175.0,20.0)"><text x="-72.368" y="4.087999999999999" style="fill:rgb(16.1%,15.3%,14.1%);fill-opacity:1.0;font-family:helvetica;font-size:16.0px;font-weight:normal;opacity:1;stroke:none;vertical-align:baseline;white-space:pre">"postorder" traversal</text></g></g></g></svg><div class="toyplot-behavior"><script>(function()
{
var modules={};
modules["toyplot/tables"] = (function()
    {
        var tables = [];

        var module = {};

        module.set = function(owner, key, names, columns)
        {
            tables.push({owner: owner, key: key, names: names, columns: columns});
        }

        module.get = function(owner, key)
        {
            for(var i = 0; i != tables.length; ++i)
            {
                var table = tables[i];
                if(table.owner != owner)
                    continue;
                if(table.key != key)
                    continue;
                return {names: table.names, columns: table.columns};
            }
        }

        module.get_csv = function(owner, key)
        {
            var table = module.get(owner, key);
            if(table != undefined)
            {
                var csv = "";
                csv += table.names.join(",") + "\n";
                for(var i = 0; i != table.columns[0].length; ++i)
                {
                  for(var j = 0; j != table.columns.length; ++j)
                  {
                    if(j)
                      csv += ",";
                    csv += table.columns[j][i];
                  }
                  csv += "\n";
                }
                return csv;
            }
        }

        return module;
    })();
modules["toyplot/root/id"] = "td56f59eb992640b09c70ba3bf9b103d0";
modules["toyplot/root"] = (function(root_id)
    {
        return document.querySelector("#" + root_id);
    })(modules["toyplot/root/id"]);
modules["toyplot/canvas/id"] = "td377ae4473a54e138eb02c4f266ee3ae";
modules["toyplot/canvas"] = (function(canvas_id)
    {
        return document.querySelector("#" + canvas_id);
    })(modules["toyplot/canvas/id"]);
modules["toyplot/menus/context"] = (function(root, canvas)
    {
        var wrapper = document.createElement("div");
        wrapper.innerHTML = "<ul class='toyplot-context-menu' style='background:#eee; border:1px solid #b8b8b8; border-radius:5px; box-shadow: 0px 0px 8px rgba(0%,0%,0%,0.25); margin:0; padding:3px 0; position:fixed; visibility:hidden;'></ul>"
        var menu = wrapper.firstChild;

        root.appendChild(menu);

        var items = [];

        var ignore_mouseup = null;
        function open_menu(e)
        {
            var show_menu = false;
            for(var index=0; index != items.length; ++index)
            {
                var item = items[index];
                if(item.show(e))
                {
                    item.item.style.display = "block";
                    show_menu = true;
                }
                else
                {
                    item.item.style.display = "none";
                }
            }

            if(show_menu)
            {
                ignore_mouseup = true;
                menu.style.left = (e.clientX + 1) + "px";
                menu.style.top = (e.clientY - 5) + "px";
                menu.style.visibility = "visible";
                e.stopPropagation();
                e.preventDefault();
            }
        }

        function close_menu()
        {
            menu.style.visibility = "hidden";
        }

        function contextmenu(e)
        {
            open_menu(e);
        }

        function mousemove(e)
        {
            ignore_mouseup = false;
        }

        function mouseup(e)
        {
            if(ignore_mouseup)
            {
                ignore_mouseup = false;
                return;
            }
            close_menu();
        }

        function keydown(e)
        {
            if(e.key == "Escape" || e.key == "Esc" || e.keyCode == 27)
            {
                close_menu();
            }
        }

        canvas.addEventListener("contextmenu", contextmenu);
        canvas.addEventListener("mousemove", mousemove);
        document.addEventListener("mouseup", mouseup);
        document.addEventListener("keydown", keydown);

        var module = {};
        module.add_item = function(label, show, activate)
        {
            var wrapper = document.createElement("div");
            wrapper.innerHTML = "<li class='toyplot-context-menu-item' style='background:#eee; color:#333; padding:2px 20px; list-style:none; margin:0; text-align:left;'>" + label + "</li>"
            var item = wrapper.firstChild;

            items.push({item: item, show: show});

            function mouseover()
            {
                this.style.background = "steelblue";
                this.style.color = "white";
            }

            function mouseout()
            {
                this.style.background = "#eee";
                this.style.color = "#333";
            }

            function choose_item(e)
            {
                close_menu();
                activate();

                e.stopPropagation();
                e.preventDefault();
            }

            item.addEventListener("mouseover", mouseover);
            item.addEventListener("mouseout", mouseout);
            item.addEventListener("mouseup", choose_item);
            item.addEventListener("contextmenu", choose_item);

            menu.appendChild(item);
        };
        return module;
    })(modules["toyplot/root"],modules["toyplot/canvas"]);
modules["toyplot/io"] = (function()
    {
        var module = {};
        module.save_file = function(mime_type, charset, data, filename)
        {
            var uri = "data:" + mime_type + ";charset=" + charset + "," + data;
            uri = encodeURI(uri);

            var link = document.createElement("a");
            if(typeof link.download != "undefined")
            {
              link.href = uri;
              link.style = "visibility:hidden";
              link.download = filename;

              document.body.appendChild(link);
              link.click();
              document.body.removeChild(link);
            }
            else
            {
              window.open(uri);
            }
        };
        return module;
    })();
(function(tables, context_menu, io, owner_id, key, label, names, columns, filename)
        {
            tables.set(owner_id, key, names, columns);

            var owner = document.querySelector("#" + owner_id);
            function show_item(e)
            {
                return owner.contains(e.target);
            }

            function choose_item()
            {
                io.save_file("text/csv", "utf-8", tables.get_csv(owner_id, key), filename + ".csv");
            }

            context_menu.add_item("Save " + label + " as CSV", show_item, choose_item);
        })(modules["toyplot/tables"],modules["toyplot/menus/context"],modules["toyplot/io"],"tb41951952e554ef6a9b88ddf52715f98","data","point",["x", "y0"],[[0.0, 1.0, 0.5, 2.0, 3.0, 2.5, 1.5, 4.0, 5.0, 4.5, 3.0, 6.0, 7.0, 6.5, 4.75], [0.0, 0.0, 0.25, 0.0, 0.0, 0.25, 0.5, 0.0, 0.0, 0.5, 0.75, 0.0, 0.0, 0.75, 1.0]],"toyplot");
})();</script><div class="toyplot-vcr-controls">
            <input class="toyplot-current-frame" title="Frame" type="range" min="0" max="16" step="1" value="0">
            <button class="toyplot-rewind" title="Rewind" style="width:40px;height:24px">
                <svg width="20" height="20">
                    <polygon points="10,5 0,10 10,15" stroke="none" fill="#292724"></polygon>
                    <polygon points="20,5 10,10 20,15" stroke="none" fill="#292724"></polygon>
                </svg>
            </button>
            <button class="toyplot-reverse-play" title="Reverse Play" style="width:40px;height:24px">
                <svg width="20" height="20">
                    <polygon points="15,5 5,10 15,15" stroke="none" fill="#292724"></polygon>
                </svg>
            </button>
            <button class="toyplot-frame-rewind" title="Frame Rewind" style="width:40px;height:24px">
                <svg width="20" height="20">
                    <polygon points="15,5 5,10 15,15" stroke="none" fill="#292724"></polygon>
                    <rect x="17" y="5" width="2" height="10" stroke="none" fill="#292724"></rect>
                </svg>
            </button>
            <button class="toyplot-stop" title="Stop" style="width:40px;height:24px">
                <svg width="20" height="20">
                    <rect x="5" y="5" width="10" height="10" stroke="none" fill="#292724"></rect>
                </svg>
            </button>
            <button class="toyplot-frame-advance" title="Frame Advance" style="width:40px;height:24px">
                <svg width="20" height="20">
                    <polygon points="5,5 15,10 5,15" stroke="none" fill="#292724"></polygon>
                    <rect x="1" y="5" width="2" height="10" stroke="none" fill="#292724"></rect>
                </svg>
            </button>
            <button class="toyplot-forward-play" title="Play" style="width:40px;height:24px">
                <svg width="20" height="20">
                    <polygon points="5,5 15,10 5,15" stroke="none" fill="#292724"></polygon>
                </svg>
            </button>
            <button class="toyplot-fast-forward" title="Fast Forward" style="width:40px;height:24px">
                <svg width="20" height="20">
                    <polygon points="0,5 10,10 0,15" stroke="none" fill="#292724"></polygon>
                    <polygon points="10,5 20,10 10,15" stroke="none" fill="#292724"></polygon>
                </svg>
            </button>
        </div><script>
        (function()
        {
            var root_id = "td56f59eb992640b09c70ba3bf9b103d0";
            var frame_durations = [0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5];
            var state_changes = [{"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 0, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 1, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 2, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 3, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 4, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 5, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 6, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 7, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 8, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 9, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 10, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 11, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 12, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 13, "style": {"opacity": 0.1}}, {"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 14, "style": {"opacity": 0.1}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 0, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 1, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 2, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 3, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 4, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 5, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 6, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 7, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 8, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 9, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 10, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 11, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 12, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 13, "style": {"opacity": 1.0}}]}, {"set-datum-style": [{"mark": "tb41951952e554ef6a9b88ddf52715f98", "series": 0, "datum": 14, "style": {"opacity": 1.0}}]}];

            var current_frame = null;
            var timeout = null;

            function set_timeout(value)
            {
                if(timeout !== null)
                    window.clearTimeout(timeout);
                timeout = value;
            }

            function set_current_frame(frame)
            {
                current_frame = frame;
                document.querySelector("#" + root_id + " .toyplot-current-frame").value = frame;
            }

            function play_reverse()
            {
                set_current_frame((current_frame - 1 + frame_durations.length) % frame_durations.length);
                render_changes(0, current_frame+1)
                set_timeout(window.setTimeout(play_reverse, frame_durations[(current_frame - 1 + frame_durations.length) % frame_durations.length] * 1000));
            }

            function play_forward()
            {
                set_current_frame((current_frame + 1) % frame_durations.length);
                render_changes(current_frame, current_frame+1);
                set_timeout(window.setTimeout(play_forward, frame_durations[current_frame] * 1000));
            }

            var item_cache = {};
            function get_item(id)
            {
                if(!(id in item_cache))
                    item_cache[id] = document.getElementById(id);
                return item_cache[id];
            }

            function render_changes(begin, end)
            {
                for(var frame = begin; frame != end; ++frame)
                {
                    var changes = state_changes[frame];
                    for(var type in changes)
                    {
                        var states = changes[type]
                        if(type == "set-mark-style")
                        {
                            for(var i = 0; i != states.length; ++i)
                            {
                                var state = states[i];
                                var mark = get_item(state.mark);
                                for(var key in state.style)
                                {
                                    mark.style.setProperty(key, state[1][key]);
                                }
                            }
                        }
                        else if(type == "set-datum-style")
                        {
                            for(var i = 0; i != states.length; ++i)
                            {
                                var state = states[i];
                                var datum = get_item(state.mark).querySelectorAll(".toyplot-Series")[state.series].querySelectorAll(".toyplot-Datum")[state.datum];
                                for(var key in state.style)
                                {
                                    datum.style.setProperty(key, state.style[key]);
                                }
                            }
                        }
                        else if(type == "set-datum-text")
                        {
                            for(var i = 0; i != states.length; ++i)
                            {
                                var state = states[i];
                                var datum = get_item(state.mark).querySelectorAll(".toyplot-Series")[state.series].querySelectorAll(".toyplot-Datum")[state.datum];
                                var layout = document.createElementNS("http://www.w3.org/2000/svg", "g");
                                layout.innerHTML = state.layout;
                                layout = layout.firstChild;

                                while(datum.firstElementChild)
                                    datum.removeChild(datum.firstElementChild);
                                while(layout.firstElementChild)
                                    datum.appendChild(layout.removeChild(layout.firstElementChild));
                            }
                        }
                    }
                }
            }

            function on_set_frame()
            {
            set_timeout(null);
            set_current_frame(document.querySelector("#" + root_id + " .toyplot-current-frame").valueAsNumber);
            render_changes(0, current_frame+1);
            }

            function on_frame_rewind()
            {
            set_timeout(null);
            set_current_frame((current_frame - 1 + frame_durations.length) % frame_durations.length);
            render_changes(0, current_frame+1);
            }

            function on_rewind()
            {
            set_current_frame(0);
            render_changes(0, current_frame+1);
            }

            function on_play_reverse()
            {
            set_timeout(window.setTimeout(play_reverse, frame_durations[(current_frame - 1 + frame_durations.length) % frame_durations.length] * 1000));
            }

            function on_stop()
            {
            set_timeout(null);
            }

            function on_play_forward()
            {
            set_timeout(window.setTimeout(play_forward, frame_durations[current_frame] * 1000));
            }

            function on_fast_forward()
            {
            set_timeout(null);
            set_current_frame(frame_durations.length - 1);
            render_changes(0, current_frame + 1)
            }

            function on_frame_advance()
            {
            set_timeout(null);
            set_current_frame((current_frame + 1) % frame_durations.length);
            render_changes(current_frame, current_frame+1);
            }

            set_current_frame(0);
            render_changes(0, current_frame+1);

            document.querySelector("#" + root_id + " .toyplot-current-frame").oninput = on_set_frame;
            document.querySelector("#" + root_id + " .toyplot-rewind").onclick = on_rewind;
            document.querySelector("#" + root_id + " .toyplot-reverse-play").onclick = on_play_reverse;
            document.querySelector("#" + root_id + " .toyplot-frame-rewind").onclick = on_frame_rewind;
            document.querySelector("#" + root_id + " .toyplot-stop").onclick = on_stop;
            document.querySelector("#" + root_id + " .toyplot-frame-advance").onclick = on_frame_advance;
            document.querySelector("#" + root_id + " .toyplot-forward-play").onclick = on_play_forward;
            document.querySelector("#" + root_id + " .toyplot-fast-forward").onclick = on_fast_forward;
        })();
        </script></div></div>